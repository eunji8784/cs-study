Q1. 트랜잭션의 범위를 최소화 하는게 좋을까요 최대화 하는게 좋을까요? 그 이유와 함께 말해주세요.

최소화하는게 좋습니다. 일반적으로 데이터베이스 커넥션의 개수가 제한적입니다. 그런데 각 단위 프로그램이 커넥션을 소유하는 시간이 길어지면 사용 가능한 여유 커넥션의 개수는 줄어들게 된는데 이러면 각 단위 프로그램에서 커넥션을 가져가기 위해 기다려야 하는 상황이 발생할 수도 있기 때문입니다.
<br/>  
<br/>
Q2. 데드락의 개념과 해결방법에 대해서 말해주세요
 
데드락은 여러트랜잭션들이 자신의 데이터를 획득하고 락을 건 상태에서 다른 데이터에 접근하고자 대기하여 서로 자원을 얻지 못하고 영원히 대기하는 상태를 말합니다. 데드락을 해결하기 위해서는 각 transaction이 실행되기 전에 사용될 모든 데이터를 미리 locking을 해주는 예방기법이 있고, 자원 할당시 timestamp를 사용하여 deadlock이 발생하지 않도록 회피하는 기법이 있습니다. 회피기법에는 wait-die 방식과 wound-wait 방식이 있습니다.

---

Q1. 트랜잭션의 4가지 성질에 대해 설명해주세요

트랜잭션은 원자성, 일관성, 독립성, 지속성이라는 성질이 있습니다. 

원자성 - 트랜잭션이 DB에 모두 반영되거나, 아예 반영되지 않아야 한다.

일관성 - 트랜잭션의 작업 처리 결과는 항상 일관성이 있어야 한다.

독립성 - 둘 이상의 트랜잭션이 동시에 병행 실행되고 있을 때, 어떤 트랜잭션도 다른 트랜잭션 연산에 끼어들 수 없다.

지속성 - 트랜잭션이 성공적으로 완료되었으면, 결과는 영구적으로 반영되어야 한다. 트랜잭션이 완료되어 저장된 DB는 저장 후에 생기는 장애, 오류 등에 영향을 받지 않아야 한다.
<br/>  
<br/>
Q2. lock은 사용하는 이유가 무엇인가요

둘 이상의 트랜잭션이 동시에 수행될 때, 하나의 트랜잭션이 갱신한 값을 다른 트랜잭션이 덮어쓰거나, 데이터를 읽는 동안 값이 수정되어서 데이터의 불일치가 일어나는 등 다양한 오류가 일어날 수 있습니다. 이를 해결하기 위해 lock을 사용합니다. 트랜잭션이 작업할 때 lock을 걸면 unlock 되기 전까지는 다른 트랜잭션이 접근하지 못하기 때문에 작업을 시작하기 전에 lock을 걸고 작업이 완료되면 unlock하는 방식으로 사용합니다. 하지만 이로 인해 deadlock 즉, 교착상태가 발생할 수 있습니다.

---

Q1. 트랜잭션의 특징인 ACID 원칙 중, DBMS는 독립성을 어떻게 보장하나요?

독립성은 둘 이상의 트랜잭션이 동시에 병행 실행되고 있을 때, 어떤 트랜잭션도 다른 트랜잭션 연산에 끼어들 수 없다는 것을 말합니다
이를 보장하기 위해서 값에 동시에 접근하지 않도록 하는 동시성 제어(Locking)를 활용하여 이를 해결합니다.
<br/>  
<br/>
Q2. 데드락은 언제 발생하나요?
 
여러 transaction들이 각각 자신의 데이터에 대하여 lock을 획득한 상태에서 상대방 데이터에 대하여 접근하고자 대기를 할 때
교차 대기를 하게 되면서 서로 영원히 기다리는 경우에 발생합니다.
